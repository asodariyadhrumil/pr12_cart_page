<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous">
</script>
<div style="background-color: rgb(247, 190, 103); color :aliceblue;padding:10px">
<div class="header" style="float: left;width: 50%;">
<h1  style="float: left;"  align="center">Demo</h1>

</div>
<div  style="float: right;margin-top: 12px;">
    <button type="button" onclick="cart()"  style="float: right;margin-top: 12px;"class="btn btn-success">Cart</button>
</div>
<div style="clear: both;"></div>
<div style="margin-top: 25px;" class="container">
</div>
</div>
<div style="padding: 30px;"class="row" align="center" id="record">

</div>



<script type="text/javascript">
    let data = [{
             productid: 111,
            productname: "pizza",
            qty: 1,
            price: 150,
            discription: "it's delicious",
            image: "image/pizza.jpg"

        },
        {
            productid: 222,
            productname: "dosa",
            qty: 1,
            price: 50,
            discription: "it's cooler",
            image: "image/dosa.jpg"

        },
        {
            productid: 333,
            productname: "sandwich",
            qty: 1,
            price: 200,
            discription: "it's yammically",
            image: "image/sandwich.jpg"

        },
    ];

    function viewData() {
        let tbl = "";
         localStorage.setItem('products', JSON.stringify(data));
        data.map((val) => {


            tbl += `
            <div class="col-md-4 mb-4">
            <div class="card me-3" style="width: 18rem; ">
  <img src="${val.image}" class="card-img-top" style="object-fit:cover" alt="...">
  <div class="card-body">
    <h5 class="card-title">${val.productname}</h5>
    <p class="card-text">${val.discription}</p>
    <h5 class="card-title">price:-${val.price} Rs</h5>
    <button href="#" class="btn btn-primary" onclick="order(${val.productid})">Order</button>
  </div>
</div>
</div>
</div>
               `
        })
        document.getElementById('record').innerHTML = tbl;

    }
    viewData();

    const order = (pid) => {
        
        let cart = [];
     
        

        let allproduct = JSON.parse(localStorage.getItem('products'));
      
   

       allproduct.map((val)=>{
           if(val.productid == pid)
           {
              let obj = {
                productid : val.productid,
                  productname : val.productname,
                  qty : val.qty,
                  price : val.price,
                  description : val.description,
                  image : val.image
              }

              if(localStorage.getItem('cart') === null  || localStorage.getItem('cart') ===undefined)
              {
                cart.push(obj)
                localStorage.setItem('cart',JSON.stringify(cart));
              }
              else{
                  let val = JSON.parse(localStorage.getItem('cart'));
                  val.push(obj);
                  localStorage.setItem('cart',JSON.stringify(val));
              } 
           }
       })
       alert("order successfully")


    }

    const cart = () => {
        window.location.href = "cart.html";
    }
</script>